Safety reinforcement
----------------------------------------
- Minimum installation
- Remove all development tools (compiler, etc.)
- Update system source
- Enable AppArmor
- Enable SELinux
- Limit kernel functionality to run containers
- Remove dependency build
- Configure strict network access control policies
- Start docker without using root user
- Do not run containers in privileged mode
- Control resources
- CPU Share
- CPU core count
- Memory resources
- IO resources
- Disk resources
- Hardware resources
- Upper limit on the number of processes per unit time
- Use safe basic mirroring
- Regular security scans and updates to patches
- Remove setuid and setgid permissions in the image
- ``RUN find / -perm +6000-type f-exec chmod a-s {} \;|| true``
- Configure TLS authentication for Docker daemon
- If necessary, prohibit communication between containers
- rootless Docker
- https://get.docker.com/rootless
- Use Seccomp to limit syscall
- Separate build environment and online environment
- Certificate verification
