Red and blue confrontation
========================================

concept
----------------------------------------
The concept of red and blue confrontation originated from the US exercises in the 1960s. The exercises refer to the army to conduct large-scale live-arms exercises. The exercises are usually divided into the Red Army and the Blue Army, among which the Blue Army usually refers to the simulation confrontation exercises in the army. The troops that specialize in playing the imaginary enemy and conduct targeted training with the Red Army (representing our frontal troops). This method is also called Red Teaming.

The concept of red and blue confrontation in cybersecurity comes from this. As the defensive party of the enterprise, the Red Army ensures the safety of the enterprise through security reinforcement, attack monitoring, emergency response and other means. As the attacking party, the Blue Army aims to discover security vulnerabilities and obtain business permissions or data, and uses various attack methods to try to bypass the Red Army's layers of protection and achieve the established goals. What may cause confusion is that in Europe and the United States, the red team generally represents the attacking side, the blue team represents the defense side, and the color represents the opposite.

Cyber offensive and defensive drills
----------------------------------------
More influential exercises include "Locked Shields", "Cyberstorm", etc. Among them, the "lock shield" is held once a year by the NATO Cyber Defense Centre of Excellence (CCDCOE). The Cyber Storm is led by the U.S. Department of Homeland Security (DHS) and has been held every two years since 2006.

Compared with APT attacks, the offensive and defensive exercises are relatively short, only 1 to 4 weeks, and there is a defensive target. The APT attack target is unique, with a duration of several months to several years, and is even more concealed.

Focus
----------------------------------------
The work content of the enterprise network blue army mainly includes penetration testing and red-blue confrontation. The technologies used in these two methods are basically the same, but the focus is different.

Penetration testing focuses on using a shorter time to explore more security vulnerabilities, and generally does not pay much attention to whether attack behavior is monitored and discovered. The purpose is to help business systems expose and converge more risks.

The red and blue confrontation is closer to real scenes, and tends to be practical, and faces complex scenes and a wide range of techniques. Focus on bypassing the defense system and achieving the goal of obtaining business permissions or data without any silence. Donâ€™t find all risk points, because the more attacks you are, the greater the probability of being discovered. Once discovered, the Red Army will kick the Blue Army out of the battlefield. The purpose of the Red and Blue Confrontation is to test the in-depth defense capabilities, alarm operation quality, and emergency response capabilities in real attacks.

Target
----------------------------------------
- Assess the effectiveness of existing defense capabilities, identify the weaknesses of the defense system and propose specific response plans
- Using real and effective simulation attacks to evaluate potential business impacts due to security issues, provide effective data for security management to quantify the ROI of security investments
- Improve company security maturity and its ability to detect and respond to attacks

Preparation
----------------------------------------
- Organizational Chart
- Network-wide topology diagram
- Logical structure diagram of each system
- Calling relationship between systems
- Data flow relationship
- Asset sorting
- Core Asset List
- Business system assets
- Equipment Assets
- Outsourcing/third-party service assets
- Historical legacy assets
- Business Asset Information
- Business system name
- Business system type
- Server Type
- Domain name/IP address
- Service Port
- Version
- System deployment location
- Development framework
- middleware
- database
- Responsible person
- Maintenance staff
- Equipment asset information
- Device name
- Device version number
- Firmware version number
- IP address
- Deployment location
- Responsible person
- Maintenance staff
- Outsourcing/third-party service asset information
- Manufacturer Contact Information
- System Name
- System Type
- IP/URL address
- Deployment location
- Responsible person
- Maintenance staff
- Manufacturer Contact Information
- Third-party duty staff
- Risk sorting
- Infrastructure Risk
- Account permission sorting
- Internet risk investigation
- Converge the attack surface
- Emergency response plan
- Business Continuity Plan
- Disaster Recovery Plan

Action Process
----------------------------------------
- Attack Preparation
- Clarify the scope of authorization, testing objectives, restrictions, etc.
- Reporting and authorization process
- Action Cost and Budget
- Attack execution
- In the time period for filing
- Within the target scope of filing
- Filed attack IP and network environment
- Attack completed
- Restore all modifications
- Remove all persistence controls
- Submit attack reports and improvement suggestions

Things to note
----------------------------------------
- Report before testing
- It may affect business operations and communicate in advance
- After confirming the vulnerability and business communication, issue a work order and repair it
- Vulnerability Closed Loop

Reference link
----------------------------------------
- `Through attack to promote defense, thinking on the construction of enterprise blue army <https://mp.weixin.qq.com/s/8iJs2ON66NY1Jdbt7c-BTA>`_
- `Red Teaming for Cloud <http://avfisher.win/archives/1175>`_
- `Guidelines for the construction of enterprise blue teams for cyber offensive and defense drills <https://www.freebuf.com/articles/neopoints/252229.html>`_
